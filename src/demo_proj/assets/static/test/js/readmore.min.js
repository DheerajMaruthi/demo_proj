/*
 @preserve

 Readmore.js jQuery plugin
 Author: @jed_foster
 Project home: http://jedfoster.github.io/Readmore.js
 Licensed under the MIT license

 Debounce function from http://davidwalsh.name/javascript-debounce-function
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):d(jQuery)})(function(d){function p(a){var e=++q;return String(null===a?"rmjs-":a)+e}function l(a){var e=a.clone().css({height:"auto",width:a.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(a),b=e.outerHeight(),c=parseInt(e.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),d=a.data("defaultHeight");e.remove();e=c||a.data("collapsedHeight")||
d;a.data({expandedHeight:b,maxHeight:c,collapsedHeight:e}).css({maxHeight:"none"})}function k(a,e){this.element=a;var b=this.options=d.extend({},m,e);if(!n[b.selector]){var c=" ";b.embedCSS&&""!==b.blockCSS&&(c+=b.selector+" + [data-readmore-toggle], "+b.selector+"[data-readmore]{"+b.blockCSS+"}");var c=c+(b.selector+"[data-readmore]{transition: height "+b.speed+"ms;overflow: hidden;}"),f=document.createElement("style");f.type="text/css";f.styleSheet?f.styleSheet.cssText=c:f.appendChild(document.createTextNode(c));
document.getElementsByTagName("head")[0].appendChild(f);n[b.selector]=!0}this._defaults=m;this._name="readmore";this.init();window.addEventListener?(window.addEventListener("load",h),window.addEventListener("resize",h)):(window.attachEvent("load",h),window.attachEvent("resize",h))}var m={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,blockProcessed:function(){},beforeToggle:function(){},
afterToggle:function(){}},n={},q=0,h=function(a,d,b){var c;return function(){var e=this,g=arguments,r=b&&!c;clearTimeout(c);c=setTimeout(function(){c=null;b||a.apply(e,g)},d);r&&a.apply(e,g)}}(function(){d("[data-readmore]").each(function(){var a=d(this),e="true"===a.attr("aria-expanded");l(a);a.css({height:a.data(e?"expandedHeight":"collapsedHeight")})})},100);k.prototype={init:function(){var a=d(this.element);a.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin});
l(a);var e=a.data("collapsedHeight"),b=a.data("heightMargin");if(a.outerHeight(!0)<=e+b)return this.options.blockProcessed&&"function"===typeof this.options.blockProcessed&&this.options.blockProcessed(a,!1),!0;var b=a.attr("id")||p(),c=this.options.startOpen?this.options.lessLink:this.options.moreLink;a.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:b});a.after(d(c).on("click",function(c){return function(b){c.toggle(this,a[0],b)}}(this)).attr({"data-readmore-toggle":b,"aria-controls":b}));
this.options.startOpen||a.css({height:e});this.options.blockProcessed&&"function"===typeof this.options.blockProcessed&&this.options.blockProcessed(a,!0)},toggle:function(a,e,b){b&&b.preventDefault();a||(a=d('[aria-controls="'+this.element.id+'"]')[0]);e||(e=this.element);var c=d(e),f=b="",g=!1;b=c.data("collapsedHeight");c.height()<=b?(b=c.data("expandedHeight")+"px",f="lessLink",g=!0):f="moreLink";this.options.beforeToggle&&"function"===typeof this.options.beforeToggle&&this.options.beforeToggle(a,
c,!g);c.css({height:b});c.on("transitionend",function(b){return function(){b.options.afterToggle&&"function"===typeof b.options.afterToggle&&b.options.afterToggle(a,c,g);d(this).attr({"aria-expanded":g}).off("transitionend")}}(this));d(a).replaceWith(d(this.options[f]).on("click",function(a){return function(b){a.toggle(this,e,b)}}(this)).attr({"data-readmore-toggle":c.attr("id"),"aria-controls":c.attr("id")}))},destroy:function(){d(this.element).each(function(){var a=d(this);a.attr({"data-readmore":null,
"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove();a.removeData()})}};d.fn.readmore=function(a){var e=arguments,b=this.selector;a=a||{};if("object"===typeof a)return this.each(function(){if(d.data(this,"plugin_readmore")){var c=d.data(this,"plugin_readmore");c.destroy.apply(c)}a.selector=b;d.data(this,"plugin_readmore",new k(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a)return this.each(function(){var b=d.data(this,"plugin_readmore");b instanceof
k&&"function"===typeof b[a]&&b[a].apply(b,Array.prototype.slice.call(e,1))})}});
